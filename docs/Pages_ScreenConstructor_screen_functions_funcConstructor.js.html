<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Pages/ScreenConstructor/screen/functions/funcConstructor.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Pages/ScreenConstructor/screen/functions/funcConstructor.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import axios from "../../../../axios";
import { setDefaultValues, setReadOnlyFields } from "../fields";

/**
 * This class contain the sharable data 
 * and methods from all function classes
 */

export class FuncConstructor {
  constructor(screen) {
    this.screen = screen;
  }

  // sharable methods

  /**
   * To handle the pre add or modify behavoir
   * @param {string} type to decide add or modify url  
   * @param {object} fields refrence to state fields 
   * @returns {preActionContent, fieldsUpdate} 
   */
  preHanler(type, fields) {
    // type => Modify | Add
    const pre = `pre${type}`;
    let {
      urls: { [pre]: preUrl },
    } = this.screen.state;

    return new Promise((resolve, reject) => {
      axios
        .get(preUrl)
        .then((res) => {
          const {data} = res;
          // set default values ... (would be added later)
          let fieldsUpdate = setDefaultValues(fields, data.default_values);
          
          // set readOnly fields
          if (data.read_only.length > 0) {
            fieldsUpdate = setReadOnlyFields(data.read_only, fieldsUpdate);
          }
          resolve({data, fieldsUpdate})
        })
        .catch((err) => console.log(err));
    });
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="FuncConstructor.html">FuncConstructor</a></li><li><a href="Saver.html">Saver</a></li><li><a href="ScreenConstructor.html">ScreenConstructor</a></li></ul><h3>Global</h3><ul><li><a href="global.html#fillRecord">fillRecord</a></li><li><a href="global.html#getDetails">getDetails</a></li><li><a href="global.html#initialState">initialState</a></li><li><a href="global.html#t">t</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Sun Jul 31 2022 11:44:30 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
